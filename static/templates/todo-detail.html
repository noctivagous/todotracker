<div class="mb-6">
  <calcite-button onclick="router.navigate('/')" appearance="outline">
    ‚Üê Back to todos
  </calcite-button>
</div>

<calcite-card>
  <h2 slot="heading">{{:title}}</h2>
  <calcite-chip-group scale="s" selection-mode="none">
    <calcite-chip appearance="solid" scale="s" class="status-{{:status}}">
      {{:~replaceUnderscores(status)}}
    </calcite-chip>
    <calcite-chip appearance="outline" scale="s" class="category-{{:category}}">
      {{:category}}
    </calcite-chip>
    {{if topic}}
      <calcite-chip appearance="outline" scale="s">üìÅ {{:topic}}</calcite-chip>
    {{/if}}
    {{for tags}}
      <calcite-chip appearance="outline" scale="s">üè∑Ô∏è {{:name || #data}}</calcite-chip>
    {{/for}}
  </calcite-chip-group>
</calcite-card>

{{if description}}
  <div class="mb-4">
    <h3 class="text-sm font-semibold text-muted-foreground mb-2">Description</h3>
    <div class="markdown-render">{{:description}}</div>
  </div>
{{/if}}

{{if notes && notes.length > 0}}
  <calcite-card class="mt-6">
    <h3 slot="heading">Notes ({{:notes.length}})</h3>
    <div class="space-y-3">
      {{for notes}}
        <div class="tt-surface p-4">
          <div class="markdown-render">{{:content}}</div>
          <div class="text-xs text-muted-foreground mt-2">
            {{:~formatDate(created_at)}}
          </div>
        </div>
      {{/for}}
    </div>
  </calcite-card>
{{/if}}


